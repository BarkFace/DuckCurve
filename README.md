# DuckCurve
Securely implementing and managing neighborhood solar with storage and peer to peer transactive energy
A simple code in C++ was developed to simulate the charging of a battery energy storage system (BESS) after breakfast in California so that the BESS is filled in time for dinner without exacerbating the duck curve. With a 5 kW solar panel operating for 11 hours modeled as a sine curve, the total generated energy is 63% of the nominal value of 55 kWh (11 hours times 5 kW), or 34.6 kWh. Up to 13.5 kWh can go into the BESS, so the other 21 kWh will go onto the grid via net metering, or to meet the household load. At $0.30 per kWh for this evening energy, that is $6.30 per day income/savings from the solar panels directly. If rates at 6 PM in California are $0.45 per kWh, an additional $6.00 is saved for a system savings of $12.30 per day.  There is additional good news. The battery is empty in the evening but it can be filled at night with low cost power, either from other states, from wind, or from low cost baseload power. 
The code for the solar panels and BESS defines a BESS in an object-oriented fashion. A node is defined as well, and that is tested. The node can be used in more complicated situations where multiple homes are exporting power to the grid or one home is exporting to the grid and another is absorbing the power. The peer to peer connections also can be modeled, including the implications of a cyber-attack.
The code for the solar panels and BESS defines a BESS in an object-oriented fashion. A node is defined as well, and that is tested. The node can be used in more complicated situations where multiple homes are exporting power to the grid or one home is exporting to the grid and another is absorbing the power. The peer to peer connections also can be modeled, including the implications of a cyber-attack. 
Code issues: Further development of the code would involve what are called “classes” in C++ for solar power and further development of the “node” class. These capabilities are available in the “Gravity” referred to above.
